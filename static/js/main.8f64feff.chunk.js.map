{"version":3,"sources":["components/TransactionHistory/TransactionHistory.module.css","components/services/notyfy.js","components/Controls/Controls.jsx","components/Balance/Balance.jsx","components/TransactionHistory/TransactionHistory.jsx","components/Dashboard/Dashboard.jsx","components/App/App.js","index.js","components/Controls/Controls.module.css","components/Balance/Balance.module.css"],"names":["module","exports","notSumm","toast","lackOfBalance","negativeBalance","Controls","state","amount","handleChangeInput","e","setState","currentTarget","value","hendleDeposit","props","onDeposit","hendleWithdraw","onWithdraw","this","className","style","controls","input","type","name","onChange","button","onClick","Component","Balance","expenses","income","balance","span","defaultProps","TransactionHistory","hystory","transaction","firstRow","columnTitle","map","item","key","id","row","column","date","Dashboard","transactions","createTransaction","shortid","generate","Number","Date","now","toLocaleString","handleDeposit","inputAmount","notyfy","prevState","handleWithdraw","onBalanceOrWithdraw","reduce","acc","curent","deposit","withdraw","length","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8f64feff.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"transaction\":\"TransactionHistory_transaction__3BBdz\",\"firstRow\":\"TransactionHistory_firstRow__To8lc\",\"columnTitle\":\"TransactionHistory_columnTitle__3TP77\",\"row\":\"TransactionHistory_row__2nxBy\",\"column\":\"TransactionHistory_column__1vjRr\"};","import { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst notSumm = () => toast('Введите сумму для проведения операции!');\nconst lackOfBalance = () =>\n  toast('На счету недостаточно средств для проведения операции!');\nconst negativeBalance = () =>\n  toast('Введён отрицательный баланс попробуйте снова');\n\nexport default { notSumm, lackOfBalance, negativeBalance };\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport style from './Controls.module.css';\n\nexport default class Controls extends Component {\n  static propTypes = {\n    onDeposit: PropTypes.func.isRequired,\n    onWithdraw: PropTypes.func.isRequired,\n  };\n\n  state = {\n    amount: 0,\n  };\n\n  handleChangeInput = e => {\n    this.setState({\n      amount: e.currentTarget.value,\n    });\n  };\n\n  hendleDeposit = () => {\n    this.props.onDeposit(this.state.amount);\n    this.setState({ amount: 0 });\n  };\n\n  hendleWithdraw = () => {\n    this.props.onWithdraw(this.state.amount);\n    this.setState({ amount: 0 });\n  };\n\n  render() {\n    const { amount } = this.state;\n    return (\n      <section className={style.controls}>\n        <input\n          className={style.input}\n          type=\"number\"\n          name=\"amount\"\n          value={ amount === 0 ? '' : amount}\n          onChange={this.handleChangeInput}\n        />\n        <button\n          className={style.button}\n          type=\"button\"\n          onClick={this.hendleDeposit}\n        >\n          Deposit\n        </button>\n        <button\n          className={style.button}\n          type=\"button\"\n          onClick={this.hendleWithdraw}\n        >\n          Withdraw\n        </button>\n      </section>\n    );\n  }\n}\n","import React from 'react';\nimport T from 'prop-types';\nimport style from './Balance.module.css';\n\nconst Balance = ({ expenses, income, balance }) => (\n  <section className={style.balance}>\n    <span className={style.span}>️{income}$</span>\n    <span className={style.span}>️{expenses}$</span>\n    <span className={style.span}>Balance: {balance}$</span>\n  </section>\n);\n\nBalance.propTypes = {\n  expenses: T.number,\n  income: T.number,\n  balance: T.number,\n};\n\nBalance.defaultProps = {\n  expenses: 0,\n  income: 0,\n  balance: 0,\n};\n\nexport default Balance;\n","import React from 'react';\nimport T from 'prop-types';\nimport style from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ hystory }) => (\n  <table className={style.transaction}>\n    <thead className={style.firstRow}>\n      <tr>\n        <th className={style.columnTitle}>Transaction</th>\n        <th className={style.columnTitle}>Amount</th>\n        <th className={style.columnTitle}>Date</th>\n      </tr>\n    </thead>\n    <tbody>\n      {hystory.map(item => (\n        <tr key={item.id} className={style.row}>\n          <td className={style.column}>{item.type}</td>\n          <td className={style.column}>{item.amount}$</td>\n          <td className={style.column}>{item.date}</td>\n        </tr>\n      ))}\n    </tbody>\n  </table>\n);\n\nTransactionHistory.propTypes = {\n  hystory: T.arrayOf(\n    T.shape({\n      id: T.string.isRequired,\n      type: T.string.isRequired,\n      amount: T.number.isRequired,\n      date: T.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default TransactionHistory;\n","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { ToastContainer } from 'react-toastify';\nimport notyfy from '../services/notyfy';\nimport Controls from '../Controls';\nimport Balance from '../Balance';\nimport TransactionHistory from '../TransactionHistory';\n\nexport default class Dashboard extends Component {\n  state = {\n    transactions: [],\n    balance: 0,\n  };\n\n  createTransaction = (amount, type) => {\n    return {\n      id: shortid.generate(),\n      type,\n      amount: Number(amount),\n      date: new Date(Date.now()).toLocaleString(),\n    };\n  };\n\n  handleDeposit = inputAmount => {\n    const amount = Number(inputAmount);\n    if (amount < 0) {\n      notyfy.negativeBalance();\n      return;\n    }\n    if (amount === 0) {\n      notyfy.notSumm();\n      return;\n    }\n\n    const transaction = this.createTransaction(amount, 'deposit');\n    this.setState(prevState => ({\n      transactions: [...prevState.transactions, transaction],\n      balance: prevState.balance + amount,\n    }));\n  };\n\n  handleWithdraw = inputAmount => {\n    const amount = Number(inputAmount);\n\n    if (amount < 0) {\n      notyfy.negativeBalance();\n      return;\n    }\n    if (amount === 0) {\n      notyfy.notSumm();\n      return;\n    }\n\n    const { balance } = this.state;\n    if (amount > balance) {\n      notyfy.lackOfBalance();\n      return;\n    }\n\n    const transaction = this.createTransaction(amount, 'withdraw');\n    this.setState(prevState => ({\n      transactions: [...prevState.transactions, transaction],\n      balance: prevState.balance - amount,\n    }));\n  };\n\n  onBalanceOrWithdraw = () => {\n    const { transactions } = this.state;\n    return transactions.reduce(\n      (acc, curent) => {\n        return {\n          ...acc,\n          [curent.type]: curent.amount + acc[curent.type],\n        };\n      },\n      { deposit: 0, withdraw: 0 },\n    );\n  };\n\n  render() {\n    const { transactions, balance } = this.state;\n    const { deposit, withdraw } = this.onBalanceOrWithdraw();\n    return (\n      <div className=\"dashboard\">\n        <Controls\n          onDeposit={this.handleDeposit}\n          onWithdraw={this.handleWithdraw}\n        />\n        <Balance expenses={withdraw} income={deposit} balance={balance} />\n        {transactions.length > 0 && (\n          <TransactionHistory hystory={transactions} />\n        )}\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Dashboard from '../Dashboard';\n\nconst App = () => (\n  <div className=\"App\">\n    <Dashboard />\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__19vOo\",\"input\":\"Controls_input__2P1Dk\",\"button\":\"Controls_button__2Bi_F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__1dzc4\",\"span\":\"Balance_span__3a_WI\"};"],"sourceRoot":""}